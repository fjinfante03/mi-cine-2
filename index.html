<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineTrack Pro - Mi Videoteca</title>
    <link rel="stylesheet" href="style.css">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
</head>
<body>

    <div id="menu-lateral" class="sidebar">
        <a href="javascript:void(0)" class="closebtn" onclick="toggleMenu()">Ã—</a>
        <div class="sidebar-header">
            <img src="https://cdn-icons-png.flaticon.com/512/2503/2503508.png" width="50" style="margin-left: 20px;">
        </div>
        <a href="#" onclick="volverInicio()">ğŸ  Inicio</a>
        <a href="#" onclick="irA('pendientes')">ğŸ¿ Pendientes</a>
        <a href="#" onclick="irA('vistas')">âœ… Ya Vistas</a>
        <hr style="border: 0; border-top: 1px solid #333; margin: 10px 20px;">
        <a href="#" onclick="abrirBiblioteca('actores')">ğŸ‘¥ Mis Actores</a>
        <a href="#" onclick="abrirBiblioteca('directores')">ğŸ¬ Mis Directores</a>
    </div>

    <div id="main">
        <header>
            <span class="menu-icon" onclick="toggleMenu()">â˜°</span>
            <h1 onclick="volverInicio()">CineTrack</h1>
        </header>

        <div id="seccion-inicio" class="container">
            <div class="card-form">
                <h3 style="margin-top:0; color: #e50914;">AÃ±adir nueva pelÃ­cula</h3>
                <input type="text" id="titulo" placeholder="TÃ­tulo de la pelÃ­cula">
                
                <div class="fila">
                    <input type="number" id="aÃ±o" placeholder="AÃ±o" style="width: 30%;">
                    <input type="text" id="genero" placeholder="GÃ©nero (Ej: AcciÃ³n, Drama)" style="width: 65%;">
                </div>

                <input type="text" id="director" placeholder="Director">
                <input type="text" id="actores" placeholder="Reparto (separados por comas)">
                
                <select id="plataforma">
                    <option value="" disabled selected>Â¿DÃ³nde verla?</option>
                    <option value="Netflix">Netflix</option>
                    <option value="HBO MAX">HBO MAX</option>
                    <option value="Amazon">Amazon Prime</option>
                    <option value="Disney+">Disney+</option>
                    <option value="Cine">Cine / FÃ­sico</option>
                    <option value="Internet">Internet</option>
                </select>
                
                <div class="upload-area" onclick="document.getElementById('input-file').click()">
                    <div id="preview-portada">
                        <p style="margin:0;">ğŸ–¼ï¸ Toca para subir el pÃ³ster</p>
                        <small style="color: #888;">Calidad optimizada</small>
                    </div>
                    <input type="file" id="input-file" hidden accept="image/*" onchange="previsualizar(this)">
                </div>

                <div id="campos-vistas-edit" class="fila" style="display:none; background: #222; padding: 10px; border-radius: 8px;">
                    <div style="width: 100%;">
                        <label style="font-size: 12px; color: #888;">Fecha y Nota:</label>
                        <div class="fila">
                            <input type="date" id="fechaVista" style="width: 60%;">
                            <input type="number" id="nota" placeholder="Nota" min="1" max="10" style="width: 35%;">
                        </div>
                    </div>
                </div>

                <textarea id="sinopsis" placeholder="Escribe una breve sinopsis..."></textarea>
                
                <button class="btn-principal" id="btn-guardar" onclick="agregarNueva()">Guardar en mi lista</button>
            </div>
        </div>

        <div id="seccion-listado" class="container" style="display:none">
            <div class="buscador-container">
                <h2 id="titulo-listado">ğŸ¿ Pendientes</h2>
                
                <div class="controles-listado">
                    <input type="text" id="buscar-peli" placeholder="ğŸ” Buscar por tÃ­tulo..." onkeyup="mostrarPelis()">
                    
                    <select id="ordenar-vistas" onchange="mostrarPelis()" style="display:none;">
                        <option value="recientes">ğŸ“… Orden: MÃ¡s Recientes</option>
                        <option value="nota">â­ Orden: Mejor Nota</option>
                        <option value="veces">ğŸ”„ Orden: MÃ¡s veces vistas</option>
                    </select>
                </div>
            </div>
            
            <div id="lista-items" class="grid-cartelera">
                </div>
        </div>

        <div id="pantalla-biblioteca" class="container" style="display:none">
            <div class="buscador-container">
                <h2 id="titulo-biblio">Mi Reparto</h2>
                <input type="text" id="buscar-reparto" placeholder="ğŸ” Buscar actor o director..." onkeyup="generarBiblioteca()">
            </div>
            <div id="grid-reparto" class="grid-biblioteca">
                </div>
        </div>
    </div>

    <div id="pantalla-estadisticas" class="container" style="display:none">
            <div class="card-form">
                <h2 style="color: var(--main-red); margin-top:0;">ğŸ“Š Resumen de tu Cine</h2>
                <div id="stats-resumen" class="grid-biblioteca" style="grid-template-columns: 1fr 1fr; gap:10px;">
            </div>
        <div id="stats-detalles" style="margin-top:20px;"></div>
        </div>
    </div>

    <div id="zoom-modal" class="modal">
        <span class="close" onclick="cerrarZoom()">&times;</span>
        <div class="modal-content">
            <div class="zoom-card">
                <img id="img-zoom">
                <div id="caption-zoom">
                    </div>
            </div>
        </div>
    </div>

    <div style="margin-top: 20px; padding: 0 15px;">
        <hr style="border: 0; border-top: 1px solid #333; margin-bottom: 20px;">
    
        <button onclick="abrirEstadisticas()" class="btn-menu-especial">
            <span>ğŸ“Š</span> Mis EstadÃ­sticas
        </button>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 10px;">
            <button onclick="exportarDatos()" class="btn-menu-dato">
                <span>ğŸ’¾</span> Guardar
            </button>
        
            <button onclick="document.getElementById('import-file').click()" class="btn-menu-dato">
                <span>ğŸ“‚</span> Cargar
            </button>
        </div>
    
        <input type="file" id="import-file" style="display:none" onchange="importarDatos(this)">
    </div>

    <input type="file" id="input-foto-persona" style="display:none" accept="image/*">

    <script src="script.js"></script>
</body>

</html>
